#!/bin/bash

###############
# Build Script
###############

echo "======================================================================"
echo "START COMPILING RESOURCES"
echo "======================================================================"
if [ -d bin ]; then
    printf '%s\n' "Removing Lock (bin)"
    rm -rf bin
fi

mkdir -p bin
javac -cp ".:lib/*" -d bin $(find ./src/* | grep .java)

echo "======================================================================"
echo "FINISH COMPILING RESOURCES"
echo "======================================================================"

echo "======================================================================"
echo "START PACKAGE RESOURCES"
echo "======================================================================"

cd bin && jar cvf sources.jar com && cd ..

echo "======================================================================"
echo "FINISH PACKAGE RESOURCES"
echo "======================================================================"

echo "======================================================================"
echo "GENERATING JAVADOC"
echo "======================================================================"

javadoc -d javadoc/ -sourcepath src/ -subpackages com

echo "======================================================================"
echo "FINISHED GENERATING JAVADOC"
echo "======================================================================"